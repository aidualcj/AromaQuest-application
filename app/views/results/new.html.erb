<div data-controller="form">
  <div class="arrow-back">
      <%= link_to '#', data: { action: 'click->form#previousStep' }, class:"arrow" do %>
        <i class="fa-solid fa-caret-left"></i>
        <p>PRECEDENT</p>
      <% end %>
  </div>
  <div class="progress" role="progressbar" aria-label="Basic example" aria-valuemin="0" aria-valuemax="100">
    <div class="progress-bar" id="progress-bar"></div>
  </div>

  <%= form_with(model: @result, url: results_path, method: :post, html: { id: 'question-form' }, data: { target: 'form.form' }) do |form| %>
    <div class="container-form-result" data-form-target="step">

      <div class="form-content">
          <h1 class="form-title"><%= @questions[0][:question] %></h1>
            <div class="answers">
              <% @questions[0][:answers].each do |answer| %>
                <div class="answer" data-action="click->form#selectAnswer" data-answer="<%= answer %>"><%= answer %></div>
              <% end %>
            </div>
      </div>
    </div>

    <div class="container-form-result hidden" data-form-target="step">
      <div class="form-content">
          <h1 class="form-title"><%= @questions[1][:question] %></h1>
            <div class="answers">
              <% @questions[1][:answers].each do |answer| %>
                <div class="answer" data-action="click->form#selectAnswer" data-answer="<%= answer %>"><%= answer %></div>
              <% end %>
            </div>
      </div>
    </div>

    <div class="container-form-result hidden" data-form-target="step">
      <div class="form-content">
          <h1 class="form-title"><%= @questions[2][:question] %></h1>
            <div class="answers">
              <% @questions[2][:answers].each do |answer| %>
                <div class="answer-larger" data-action="click->form#selectAnswer" data-answer="<%= answer %>"><%= answer %></div>
              <% end %>
            </div>
      </div>
    </div>

    <div class="container-form-result hidden" data-form-target="step">
      <div class="form-content">
          <h1 class="form-title"><%= @questions[3][:question] %></h1>
            <div class="answers">
              <% @questions[3][:answers].each do |answer| %>
                <div class="answer" data-action="click->form#selectAnswer" data-answer="<%= answer %>"><%= answer %></div>
              <% end %>
            </div>
      </div>
    </div>

    <div class="container-form-result hidden" data-form-target="step">
      <div class="form-content">
          <h1 class="form-title"><%= @questions[4][:question] %></h1>
            <div class="answers">
              <% @questions[4][:answers].each do |answer| %>
                <div class="answer" data-action="click->form#selectAnswer" data-answer="<%= answer %>"><%= answer %></div>
              <% end %>
            </div>
      </div>
    </div>

    <div class="container-form-result hidden" data-form-target="step">
      <div class="form-content">
          <h1 class="form-title"><%= @questions[5][:question] %></h1>
            <div class="answers">
              <div class="slidecontainer">
                <input type="range" min="0" max="350" value="50" class="slider" id="myRange">
                <div class="range-labels">
                  <span>0 €</span> <!-- Valeur minimum -->
                  <span>350 €</span> <!-- Valeur maximum -->
                </div>
              </div>
              <%= form.hidden_field :price, id: 'priceField', data: { form_target: 'price' } %>
            </div>
          <%= form.submit 'Suivant', class:"btn-start", data: { action: "form#selectAnswer" } %>
        </div>
    </div>

    <div class="container-form-result hidden" data-form-target="step">
      <div class="form-content">
          <h1 class="form-title-margin2"><%= @questions[6][:question] %></h1>
          <div class="answers">
            <% @questions[6][:answers].each do |answer| %>
              <div class="answer-larger" data-action="click->form#selectAnswer" data-answer="<%= answer %>"><%= answer %></div>
            <% end %>
          </div>
      </div>
    </div>


    <div class="container-form-result hidden" data-form-target="step">
      <div class="form-content">
          <h1 class="form-title-margin2"><%= @questions[7][:question] %></h1>
            <div class="answers">
              <% @questions[7][:answers].each do |answer| %>
                <div class="answer-larger2" data-action="click->form#selectAnswer" data-answer="<%= answer %>"><%= answer %></div>
              <% end %>
            </div>
      </div>
    </div>

  <% end %>
</div>
